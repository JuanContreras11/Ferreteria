<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/style.css">
    <title>Ferreteria Don Pepe</title>
  </head>
  <body>
    
    <div class="container">
        <h1 class="text-center">Ferreteria Don Pepe</h1>
        <div class="row my-5 text-center justify-content-center">
            <div class="col-auto p-3 bg-light mx-2">
                <div class="container">
                    <h2 class="my-3">Productos y detalles</h2>
                    <table class="table table-striped" id="productosDetalles">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Producto</th>
                                <th>Precio</th>
                                <th>Stock</th>
                                <th>Foto</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Clavos</td>
                                <td>$50</td>
                                <td class="stockClavos">200</td>
                                <td><img src="assets/img/clavos.jpeg" alt="Clavos" width="150" height="150"></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Pernos</td>
                                <td>$150</td>
                                <td class="stockPernos">150</td>
                                <td><img src="assets/img/pernos.jpeg" alt="Pernos" width="150" height="150"></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Tuercas</td>
                                <td>$150</td>
                                <td class="stockTuercas">150</td>
                                <td><img src="assets/img/tuercas.jpeg" alt="Tuercas" width="150" height="150"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-6 col-md-4 p-3 bg-light mx-2">
                <div class="container">
                    <h2 class="my-3">Estado de pago</h2>
                    <form>
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre</label>
                            <span class="form-control" id="nombreEstadoPago"></span>
                        </div>
                        <div class="mb-3">
                            <label for="edad" class="form-label">Edad</label>
                            <span class="form-control" id="edadEstadoPago"></span>
                        </div>
                    </form>
                    <table class="table table-striped" id="estadoPago">
                        <thead>
                            <tr>
                                <th>Productos</th>
                                <th>Cantidad</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Clavos</td>
                                <td class="clavosCantidad">0</td>
                                <td class="clavosTotal">0</td>
                            </tr>
                            <tr>
                                <td>Pernos</td>
                                <td class="pernosCantidad">0</td>
                                <td class="pernosTotal">0</td>
                            </tr>
                            <tr>
                                <td>Tuercas</td>
                                <td class="tuercasCantidad">0</td>
                                <td class="tuercasTotal">0</td>
                            </tr>
                            <tr>
                                <td>Totales</td>
                                <td class="totalCantidad">0</td>
                                <td class="totalGeneral">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row my-5 text-center justify-content-center">
            <div class="container col-6">
                <h2 class="my-3">Formulario de Pedido</h2>
                <form>
                    <div class="mb-3">
                        <label for="nombre" class="form-label">Ingrese su nombre</label>
                        <input type="text" class="form-control" id="nombre">
                    </div>
                    <div class="mb-3">
                        <label for="edad" class="form-label">Ingrese su edad</label>
                        <input type="number" class="form-control" id="edad">
                    </div>
                    <div class="mb-3">
                        <label for="clavos" class="form-label">Cantidad de Clavos</label>
                        <input type="number" class="form-control" id="clavos">
                    </div>
                    <div class="mb-3">
                        <label for="pernos" class="form-label">Cantidad de Pernos</label>
                        <input type="number" class="form-control" id="pernos">
                    </div>
                    <div class="mb-3">
                        <label for="tuercas" class="form-label">Cantidad de Tuercas</label>
                        <input type="number" class="form-control" id="tuercas">
                    </div>
                    <div class="mb-3">
                        <button type="button" class="btn btn-primary" id="calcularTotal">Total a Pagar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#calcularTotal").click(function() {
                let cantidadClavos = parseInt($("#clavos").val()) || 0;
                let cantidadPernos = parseInt($("#pernos").val()) || 0;
                let cantidadTuercas = parseInt($("#tuercas").val()) || 0;
                let nombre = $("#nombre").val() || "";
            let edad = $("#edad").val() || "";
    
                // Actualizar el estado de pago
                $(".clavosCantidad").text(cantidadClavos);
                $(".clavosTotal").text('$' + (cantidadClavos * 50));
                $(".pernosCantidad").text(cantidadPernos);
                $(".pernosTotal").text('$' + (cantidadPernos * 150));
                $(".tuercasCantidad").text(cantidadTuercas);
                $(".tuercasTotal").text('$' + (cantidadTuercas * 150));
    
                // Calcular el total general y actualizar en el estado de pago
                let totalGeneral = cantidadClavos * 50 + cantidadPernos * 150 + cantidadTuercas * 150;
                let totalCantidad = cantidadClavos + cantidadPernos  + cantidadTuercas;
                $(".totalGeneral").text('$' + totalGeneral);
                $(".totalCantidad").text(totalCantidad);

    
                // Actualizar el stock en productos y detalles
                let stockClavos = 200 - cantidadClavos;
                let stockPernos = 150 - cantidadPernos;
                let stockTuercas = 150 - cantidadTuercas;
    
                // Actualizar los valores de stock en la tabla de productos y detalles
                $(".stockClavos").text(stockClavos);
                $(".stockPernos").text(stockPernos);
                $(".stockTuercas").text(stockTuercas);
                $("#nombreEstadoPago").text(nombre);
            $("#edadEstadoPago").text(edad);
            });
        });
    </script>
  </body>
</html>
